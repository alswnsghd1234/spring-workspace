<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">

	<resultMap type="board" id="boardResultSet">
		<result column="BOARD_NO" property="boardNo"/>
		<result column="BOARD_TITLE" property="boardTitle"/>
		<result column="BOARD_WRITER" property="boardWriter"/>
		<result column="BOARD_CONTENT" property="boardContent"/>
		<result column="ORIGIN_NAME" property="originName"/>
		<result column="CHANGE_NAME" property="changeName"/>
		<result column="COUNT" property="count"/>
		<result column="CREATE_DATE" property="createDate"/>	
		<result column="STATUS" property="status"/>
	</resultMap>
		
		
	<select id="selectListCount" resultType="_int">
		SELECT COUNT(*)
		FROM BOARD
		WHERE STATUS = 'Y'
	</select>
	
	<select id="selectList" resultMap="boardResultSet">
		SELECT BOARD_NO
			  ,BOARD_TITLE
			  ,BOARD_WRITER			  
			  ,CREATE_DATE
			  ,ORIGIN_NAME
		FROM BOARD
		WHERE STATUS = 'Y'
		ORDER BY CREATE_DATE DESC			
	</select>
	
 <insert id="insertBoard" parameterType="board">
      INSERT INTO BOARD(
                    BOARD_NO,
                    BOARD_TITLE,
                    BOARD_WRITER,
                    BOARD_CONTENT,
                    ORIGIN_NAME,
                    CHANGE_NAME
                    )
      VALUES(
            SEQ_BNO.NEXTVAL,
            #{boardTitle},
            #{boardWriter},
            #{boardContent},
            #{originName},
            #{changeName}
            )
   </insert>
   
   <update id="increaseCount" parameterType="_int">
   		 UPDATE BOARD
   		 SET COUNT = COUNT +1
   		 WHERE STATUS = 'Y'
   		 AND BOARD_NO =#{boardNo}    
   </update>
   
   <select id="selectBoard" resultMap="boardResultSet">
   	SELECT BOARD_NO
   			,BOARD_TITLE
   			,BOARD_WRITER
   			,BOARD_CONTENT
   			,CREATE_DATE
   			,ORIGIN_NAME
   			,CHANGE_NAME
    FROM BOARD
    WHERE BOARD_NO = #{boardNo}   
   </select>
   
   <delete id="deleteBoard" parameterType="_int">
   DELETE FROM BOARD
   WHERE BOARD_NO = #{boardNo}  

   </delete>
   
   <update id="updateBoard" parameterType="board">
   		 UPDATE BOARD
   		 SET BOARD_TITLE=#{boardTitle}
   			,BOARD_WRITER=#{boardWriter}
   			,BOARD_CONTENT=#{boardContent}
   			,ORIGIN_NAME=#{originName}
   			,CHANGE_NAME=#{changeName}
   		 WHERE STATUS = 'Y'   
   </update>
	
</mapper>
